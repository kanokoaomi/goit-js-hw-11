{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const form = document.querySelector('.form');\nexport const listOfImg = document.querySelector('.gallery');\n\nexport const fetchReturn = inputResult => {\n  return fetch(\n    `https://pixabay.com/api/?key=45647419-a95c01b27d6f35f87705f1aeb&q=${inputResult}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createGallery(pictureInfo) {\n  return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${pictureInfo.largeImageURL}\">\n        <img \n        class=\"gallery-image\"\n        src=\"${pictureInfo.webformatURL}\"\n        data-source=\"${pictureInfo.largeImageURL}\"\n        alt=\"${pictureInfo.tags}\" \n        />\n        <ul class=\"picture-data\">\n      <li class=\"picture-data-item\"><p class=\"picture-data-item-text\"><b>Likes:</b><span class=\"picture-data-item-span\">${pictureInfo.likes}</span></p></li>\n      <li class=\"picture-data-item\"><p class=\"picture-data-item-text\"><b>Views:</b><span class=\"picture-data-item-span\">${pictureInfo.views}</span></p></li>\n      <li class=\"picture-data-item\"><p class=\"picture-data-item-text\"><b>Comments:</b><span class=\"picture-data-item-span\">${pictureInfo.comments}</span></p></li>\n      <li class=\"picture-data-item\"><p class=\"picture-data-item-text\"><b>Downloads:</b><span class=\"picture-data-item-span\">${pictureInfo.downloads}</span></p></li>\n      </ul>\n      </a>\n    </li>\n    `;\n}\n\nexport const lightbox = new simpleLightbox('.gallery-item a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport const listOfImg = document.querySelector('.gallery');\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchReturn, listOfImg, form } from './js/pixabay-api';\nimport { createGallery, lightbox } from './js/render-functions';\n\nconst onFormElement = event => {\n  event.preventDefault();\n  const inputResult = form.elements.user_search.value.trim();\n\n  if (inputResult === '') {\n    iziToast.show({\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  listOfImg.innerHTML = '';\n\n  showLoader();\n\n  fetchReturn(inputResult)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        const galleryCreating = data.hits\n          .map(imgInfo => createGallery(imgInfo))\n          .join('');\n        listOfImg.innerHTML = galleryCreating;\n        lightbox.refresh();\n      }\n    })\n    .catch(() => {\n      iziToast.show({\n        message: 'Sorry, there is an issue. Please try again!',\n      });\n      form.reset();\n    })\n    .finally(() => {\n      hideLoader();\n    });\n};\n\nconst loader = document.querySelector('.loader');\nconst showLoader = () => {\n  loader.style.display = 'block';\n};\nconst hideLoader = () => {\n  loader.style.display = 'none';\n};\n\nform.addEventListener('submit', onFormElement);\n\nnew SimpleLightbox('.gallery a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n"],"names":["form","listOfImg","fetchReturn","inputResult","response","createGallery","pictureInfo","lightbox","simpleLightbox","onFormElement","event","iziToast","showLoader","data","galleryCreating","imgInfo","hideLoader","loader","SimpleLightbox"],"mappings":"6vBAGO,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,UAAU,EAE7CC,EAAcC,GAClB,MACL,qEAAqEA,CAAW,0DACpF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,ECXI,SAASC,EAAcC,EAAa,CACzC,MAAO;AAAA;AAAA,sCAE6BA,EAAY,aAAa;AAAA;AAAA;AAAA,eAGhDA,EAAY,YAAY;AAAA,uBAChBA,EAAY,aAAa;AAAA,eACjCA,EAAY,IAAI;AAAA;AAAA;AAAA,0HAG2FA,EAAY,KAAK;AAAA,0HACjBA,EAAY,KAAK;AAAA,6HACdA,EAAY,QAAQ;AAAA,8HACnBA,EAAY,SAAS;AAAA;AAAA;AAAA;AAAA,KAKnJ,CAEO,MAAMC,EAAW,IAAIC,EAAe,kBAAmB,CAC5D,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEwB,SAAS,cAAc,UAAU,ECtB1D,MAAMC,EAAgBC,GAAS,CAC7BA,EAAM,eAAc,EACpB,MAAMP,EAAcH,EAAK,SAAS,YAAY,MAAM,OAEpD,GAAIG,IAAgB,GAAI,CACtBQ,EAAS,KAAK,CACZ,QAAS,8BACf,CAAK,EACD,MACD,CAEDV,EAAU,UAAY,GAEtBW,IAEAV,EAAYC,CAAW,EACpB,KAAKU,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBF,EAAS,KAAK,CACZ,QACE,0EACZ,CAAS,MACI,CACL,MAAMG,EAAkBD,EAAK,KAC1B,IAAIE,GAAWV,EAAcU,CAAO,CAAC,EACrC,KAAK,EAAE,EACVd,EAAU,UAAYa,EACtBP,EAAS,QAAO,CACjB,CACP,CAAK,EACA,MAAM,IAAM,CACXI,EAAS,KAAK,CACZ,QAAS,6CACjB,CAAO,EACDX,EAAK,MAAK,CAChB,CAAK,EACA,QAAQ,IAAM,CACbgB,GACN,CAAK,CACL,EAEMC,EAAS,SAAS,cAAc,SAAS,EACzCL,EAAa,IAAM,CACvBK,EAAO,MAAM,QAAU,OACzB,EACMD,EAAa,IAAM,CACvBC,EAAO,MAAM,QAAU,MACzB,EAEAjB,EAAK,iBAAiB,SAAUS,CAAa,EAE7C,IAAIS,EAAe,aAAc,CAC/B,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC"}